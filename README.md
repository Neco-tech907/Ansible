# Ansible

# Telegram-–±–æ—Ç —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è Telegram-–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏–ª–∏ —Å –ø–æ–º–æ—â—å—é Ansible –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω–∞—Ö.  
üí° –ü—Ä–æ–µ–∫—Ç –±—ã–ª –≤—ã–ø–æ–ª–Ω–µ–Ω –≤ —Ä–∞–º–∫–∞—Ö —É—á–µ–±–Ω–æ–π –∑–∞–¥–∞—á–∏ –ø–æ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—é –Ω–∞–≤—ã–∫–æ–≤ —Ä–∞–±–æ—Ç—ã —Å Git, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ (Docker) –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (Ansible).

## üöÄ –ü—Ä–æ –ø—Ä–æ–µ–∫—Ç
- Telegram-–±–æ—Ç –Ω–∞ Python —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (–≤–µ—Ç–∫–∞ `docker`).
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Ansible playbook –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–µ–π, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –±–æ—Ç–∞ –∏ –µ–≥–æ –∑–∞–ø—É—Å–∫–∞ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö VM (–≤–µ—Ç–∫–∞ `ansible`).

## üß≠ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–µ—Ç–∫–∏
- **docker** ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç `Dockerfile` –∏ `docker-compose.yml` –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–±–æ—Ä–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∏ –±–æ—Ç–æ–º.
- **ansible** ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç playbook `playbook_master.yml`, `playbook_replica.yml`, `playbook_tg_bot.yml` –∏ `inventory`, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è Python –∏ –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞ –±–µ–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.

## ‚ö†Ô∏è –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
–§–∞–π–ª `.env` —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –¥–æ—Å—Ç—É–ø–∞–º–∏ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –î–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —É–∫–∞–∑–∞–Ω—ã –æ—Ç–¥–µ–ª—å–Ω–æ –≤ –æ—Ç—á—ë—Ç–µ.

## üîß –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –∑–∞–ø—É—Å–∫–∞
- –î–ª—è –≤–µ—Ç–∫–∏ `docker`: —Å–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å –ø–æ–º–æ—â—å—é `docker-compose up --build`.
- –î–ª—è –≤–µ—Ç–∫–∏ `ansible`: –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å 3 VM-—Å–µ—Ä–≤–µ—Ä–∞, –ø—Ä–æ–ø–∏—Å–∞—Ç—å –∏—Ö IP-–∞–¥—Ä–µ—Å–∞ –≤ —Ñ–∞–π–ª–µ `inventory`, –≤—ã–ø–æ–ª–Ω–∏—Ç—å `ansible-playbook playbook_tg_bot.yml`.


> *–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:* –ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —Å –ø–æ–º–æ—â—å—é ansible –±–æ—Ç–∞ –Ω—É–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å, —Ç.–∫ –æ–Ω –≤—ã–∫–ª—é—á–µ–Ω –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –ø–ª–µ–π–±—É–∫–æ–≤
